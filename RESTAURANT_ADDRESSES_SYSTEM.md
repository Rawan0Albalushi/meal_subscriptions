# ูุธุงู ุนูุงููู ุงููุทุงุนู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุนูุงููู ุงููุทุงุนู ูู ุงูุชุทุจููุ ููุง ูุชูุญ ููุจุงุฆุนูู ุฅุฏุงุฑุฉ ุนูุงููู ูุชุนุฏุฏุฉ ููู ูุทุนู ูุน ุฅููุงููุฉ ุชุญุฏูุฏ ุนููุงู ุฑุฆูุณู.

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฌุฏูู ุนูุงููู ุงููุทุงุนู
- **ุฌุฏูู `restaurant_addresses`**: ูุญุชูู ุนูู ุฌููุน ุนูุงููู ุงููุทุงุนู
- **ุงูุญููู ุงูุฑุฆูุณูุฉ**:
  - `restaurant_id`: ูุนุฑู ุงููุทุนู
  - `name_ar` / `name_en`: ุงุณู ุงูุนููุงู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
  - `address_ar` / `address_en`: ุงูุนููุงู ุงูุชูุตููู
  - `area`: ุงูููุทูุฉ (ุจูุดุฑุ ุงูุฎูุถุ ุงููุนุจููุฉ)
  - `latitude` / `longitude`: ุฅุญุฏุงุซูุงุช ุงููููุน
  - `is_primary`: ุงูุนููุงู ุงูุฑุฆูุณู
  - `is_active`: ุญุงูุฉ ุงููุดุงุท

### 2. Model ุงูุนูุงูุงุช
- **Restaurant Model**: ุชู ุฅุถุงูุฉ ุนูุงูุงุช ุฌุฏูุฏุฉ:
  - `addresses()`: ุฌููุน ุนูุงููู ุงููุทุนู
  - `primaryAddress()`: ุงูุนููุงู ุงูุฑุฆูุณู ููุท

- **RestaurantAddress Model**: 
  - ุนูุงูุฉ `restaurant()` ูุน ุงููุทุนู
  - Accessors ููุชุฑุฌูุฉ ุงูุชููุงุฆูุฉ
  - ุฏุงูุฉ `getAvailableAreas()` ููุญุตูู ุนูู ุงูููุงุทู ุงููุชุงุญุฉ

### 3. API Endpoints

#### ููุจุงุฆุนูู (Seller):
```
GET    /api/seller/restaurants/{restaurantId}/addresses
GET    /api/seller/restaurants/{restaurantId}/addresses/{addressId}
POST   /api/seller/restaurants/{restaurantId}/addresses
PUT    /api/seller/restaurants/{restaurantId}/addresses/{addressId}
DELETE /api/seller/restaurants/{restaurantId}/addresses/{addressId}
PUT    /api/seller/restaurants/{restaurantId}/addresses/{addressId}/set-primary
```

#### ููุฌููุน:
```
GET    /api/restaurant-addresses/areas
```

### 4. ูุงุฌูุฉ ุงููุณุชุฎุฏู

#### ูููู ุฅุฏุงุฑุฉ ุงูุนูุงููู (`RestaurantAddressManager`)
- ุนุฑุถ ุฌููุน ุนูุงููู ุงููุทุนู
- ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ
- ุชุนุฏูู ุงูุนููุงู ุงูููุฌูุฏ
- ุญุฐู ุงูุนููุงู
- ุชุนููู ุนููุงู ูุฑุฆูุณู
- ุนุฑุถ ุชูุงุตูู ุงูุนููุงู ุงููุญุฏุฏ

#### ูููู ุงุฎุชูุงุฑ ุงูุนูุงููู (`AddressDropdown`)
- ูุงุฆูุฉ ููุณุฏูุฉ ูุงุฎุชูุงุฑ ุงูุนููุงู
- ุฅููุงููุฉ ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ ูุจุงุดุฑุฉ
- ุนุฑุถ ุชูุงุตูู ุงูุนููุงู ุงููุญุฏุฏ

#### ุชุญุฏูุซ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุทุงุนู
- ุฅุถุงูุฉ ุชุจููุจ "ุฅุฏุงุฑุฉ ุงูุนูุงููู"
- ุฒุฑ ุฅุฏุงุฑุฉ ุงูุนูุงููู ูู ูู ุจุทุงูุฉ ูุทุนู
- ูุงุฌูุฉ ูุชูุงููุฉ ููุชููู ุจูู ุงูุชุจููุจุงุช

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุจุงุฆุนูู:

1. **ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ**:
   - ุงูุชูู ุฅูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุทุงุนู
   - ุงุถุบุท ุนูู ุฒุฑ ๐ ูู ุจุทุงูุฉ ุงููุทุนู
   - ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ"
   - ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ
   - ุญุฏุฏ ุฅุฐุง ูุงู ุงูุนููุงู ุฑุฆูุณู

2. **ุฅุฏุงุฑุฉ ุงูุนูุงููู**:
   - ุชุนุฏูู ุงูุนูุงููู ุงูููุฌูุฏุฉ
   - ุญุฐู ุงูุนูุงููู ุบูุฑ ุงููุฑุบูุจุฉ
   - ุชุนููู ุนููุงู ูุฑุฆูุณู
   - ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุนูุงููู

### ูููุทูุฑูู:

1. **ุงุณุชุฎุฏุงู Model**:
```php
// ุงูุญุตูู ุนูู ุฌููุน ุนูุงููู ุงููุทุนู
$restaurant = Restaurant::find(1);
$addresses = $restaurant->addresses;

// ุงูุญุตูู ุนูู ุงูุนููุงู ุงูุฑุฆูุณู
$primaryAddress = $restaurant->primaryAddress;

// ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ
$restaurant->addresses()->create([
    'name_ar' => 'ุงููุฑุน ุงูุฑุฆูุณู',
    'name_en' => 'Main Branch',
    'address_ar' => 'ุดุงุฑุน ุงูุณูุทุงู ูุงุจูุณุ ุจูุดุฑ',
    'address_en' => 'Sultan Qaboos Street, Bosher',
    'area' => 'bosher',
    'is_primary' => true
]);
```

2. **ุงุณุชุฎุฏุงู API**:
```javascript
// ุงูุญุตูู ุนูู ุนูุงููู ุงููุทุนู
const response = await axios.get(`/api/seller/restaurants/${restaurantId}/addresses`);

// ุฅุถุงูุฉ ุนููุงู ุฌุฏูุฏ
const newAddress = await axios.post(`/api/seller/restaurants/${restaurantId}/addresses`, {
    name_ar: 'ุงููุฑุน ุงูุฌุฏูุฏ',
    name_en: 'New Branch',
    address_ar: 'ุงูุนููุงู ุจุงูุนุฑุจูุฉ',
    address_en: 'Address in English',
    area: 'bosher',
    is_primary: false
});
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Migration:
```php
Schema::create('restaurant_addresses', function (Blueprint $table) {
    $table->id();
    $table->foreignId('restaurant_id')->constrained()->onDelete('cascade');
    $table->string('name_ar');
    $table->string('name_en');
    $table->text('address_ar');
    $table->text('address_en');
    $table->string('area');
    $table->decimal('latitude', 10, 8)->nullable();
    $table->decimal('longitude', 11, 8)->nullable();
    $table->boolean('is_primary')->default(false);
    $table->boolean('is_active')->default(true);
    $table->timestamps();
});
```

### Seeder:
ุชู ุฅูุดุงุก `RestaurantAddressSeeder` ูุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูุนูุงููู ุงููุทุงุนู.

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

1. **ุฎุฑูุทุฉ ุชูุงุนููุฉ**: ุฅุถุงูุฉ ุฎุฑูุทุฉ ูุงุฎุชูุงุฑ ุงูุฅุญุฏุงุซูุงุช
2. **ุชุญูู ูู ุงูุนููุงู**: ุงูุชุญูู ูู ุตุญุฉ ุงูุนูุงููู
3. **ุฅุญุตุงุฆูุงุช ุงูุชูุตูู**: ุฑุจุท ุงูุนูุงููู ุจุฅุญุตุงุฆูุงุช ุงูุชูุตูู
4. **ููุงุทู ุงูุชูุตูู**: ุชุญุฏูุฏ ููุงุทู ุงูุชูุตูู ููู ุนููุงู
5. **ุฃููุงุช ุงูุนูู**: ุฑุจุท ุฃููุงุช ุงูุนูู ุจูู ุนููุงู

## ููุงุญุธุงุช ูููุฉ

- ูุง ูููู ุญุฐู ุงูุนููุงู ุงูุฑุฆูุณู ุฅุฐุง ูุงู ููุงู ุนูุงููู ุฃุฎุฑู ูุดุทุฉ
- ุนูุฏ ุชุนููู ุนููุงู ูุฑุฆูุณูุ ูุชู ุฅูุบุงุก ุงูุนููุงู ุงูุฑุฆูุณู ุงูุณุงุจู ุชููุงุฆูุงู
- ุฌููุน ุงูุนูุงููู ุชุฏุนู ุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ูุชู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุญูุธ

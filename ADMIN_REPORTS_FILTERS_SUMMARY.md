# ููุฎุต ููุงุชุฑ ุงูุชูุงุฑูุฑ ุงูุฅุฏุงุฑูุฉ ุงูุฌุฏูุฏุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ูุธุงู ููุงุชุฑ ูุชูุฏู ูุตูุญุฉ ุงูุชูุงุฑูุฑ ุงูุฅุฏุงุฑูุฉ ูู ุงููุธุงูุ ููุง ูุชูุญ ูููุฏูุฑูู ููุชุฑุฉ ูุนุฑุถ ุงูุจูุงูุงุช ุจุทุฑููุฉ ุฃูุซุฑ ุฏูุฉ ููุฑููุฉ.

## ๐ ุงูููุงุชุฑ ุงููุชุงุญุฉ

### 1. ููุชุฑ ุงููุทุงุนู ๐ช
- **ุงููุตู**: ุฅููุงููุฉ ููุชุฑุฉ ุงูุชูุงุฑูุฑ ุญุณุจ ูุทุนู ูุนูู
- **ุงูุฎูุงุฑุงุช**: ุฌููุน ุงููุทุงุนู ุฃู ูุทุนู ูุญุฏุฏ
- **ุงููุตุฏุฑ**: ูุงุฆูุฉ ุงููุทุงุนู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ููุชุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ๐
- **ุงููุตู**: ููุชุฑุฉ ุญุณุจ ููุน ุงูุงุดุชุฑุงู
- **ุงูุฎูุงุฑุงุช**: 
  - ุฌููุน ุงูุฃููุงุน
  - ุฃุณุจูุนู (Weekly)
  - ุดูุฑู (Monthly)

### 3. ููุชุฑ ุญุงูุฉ ุงูุงุดุชุฑุงู ๐
- **ุงููุตู**: ููุชุฑุฉ ุญุณุจ ุญุงูุฉ ุงูุงุดุชุฑุงู
- **ุงูุฎูุงุฑุงุช**:
  - ุฌููุน ุงูุญุงูุงุช
  - ูู ุงูุงูุชุธุงุฑ (Pending)
  - ูุดุท (Active)
  - ููุชูู (Completed)
  - ููุบู (Cancelled)

### 4. ููุชุฑ ูุทุงู ุงูุณุนุฑ ๐ฐ
- **ุงููุตู**: ุฅููุงููุฉ ุชุญุฏูุฏ ูุทุงู ุงูุณุนุฑ ููููุชุฑุฉ
- **ุงูุญููู**:
  - ุงูุญุฏ ุงูุฃุฏูู ููุณุนุฑ (Min Price)
  - ุงูุญุฏ ุงูุฃูุตู ููุณุนุฑ (Max Price)
- **ุงูููุน**: ุญููู ุฑูููุฉ

### 5. ููุชุฑ ุงูุชุงุฑูุฎ ุงููุฎุตุต ๐
- **ุงููุตู**: ุฅููุงููุฉ ุชุญุฏูุฏ ูุชุฑุฉ ุฒูููุฉ ูุฎุตุตุฉ
- **ุงูุญููู**:
  - ูู ุชุงุฑูุฎ (From Date)
  - ุฅูู ุชุงุฑูุฎ (To Date)
- **ุงูููุน**: ุญููู ุชุงุฑูุฎ
- **ุงูููุฒุฉ**: ูุชุฌุงูุฒ ุงูููุงุชุฑ ุงูุฒูููุฉ ุงููุญุฏุฏุฉ ูุณุจูุงู

### 6. ุฒุฑ ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชุฑ ๐
- **ุงููุตู**: ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุชุฑ ุฅูู ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ
- **ุงูุชุตููู**: ุฒุฑ ุฃุญูุฑ ูุน ุชุฃุซูุฑุงุช hover

## ๐จ ุงูุชุตููู ูุงููุงุฌูุฉ

### ุชุตููู ุงูููุงุชุฑ
- **ุงูุฎูููุฉ**: ุฎูููุฉ ุดูุงูุฉ ูุน ุชุฃุซูุฑ blur
- **ุงูุชุฎุทูุท**: Grid responsive ูุชููู ูุน ุญุฌู ุงูุดุงุดุฉ
- **ุงูุฃููุงู**: ูุธุงู ุฃููุงู ูุชุณู ูุน ุจุงูู ุงููุธุงู (#2f6e73)

### ุนุฑุถ ุงูููุงุชุฑ ุงููุดุทุฉ
- **ุงููููุน**: ุฃุณูู ุงูููุงุชุฑ ูุจุงุดุฑุฉ
- **ุงูุชุตููู**: ุจุทุงูุงุช ุตุบูุฑุฉ ูุน ุฎูููุฉ ููููุฉ
- **ุงููุญุชูู**: ุนุฑุถ ููุฎุต ููููุงุชุฑ ุงููุทุจูุฉ ุญุงููุงู

### ุงูุชูุงุนู
- **ุงูุชุญุฏูุซ ุงูุชููุงุฆู**: ุงูููุงุชุฑ ุชุทุจู ููุฑูุงู ุนูุฏ ุงูุชุบููุฑ
- **ุงูุงุณุชุฌุงุจุฉ**: ุชุตููู ูุชุฌุงูุจ ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- **ุงูุชุฃุซูุฑุงุช**: ุชุฃุซูุฑุงุช hover ูุงูุชูุงูุงุช ุณูุณุฉ

## ๐ง ุงูุชุญุฏูุซุงุช ุงูุชูููุฉ

### ุงูุจุงู ุฅูุฏ (Backend)
#### ููู: `app/Http/Controllers/Api/Admin/ReportsController.php`

**ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ**:
1. **ุฅุถุงูุฉ ูุนุงููุงุช ุงูููุงุชุฑ**:
   ```php
   $restaurantId = $request->get('restaurant_id');
   $subscriptionType = $request->get('subscription_type');
   $subscriptionStatus = $request->get('subscription_status');
   $minPrice = $request->get('min_price');
   $maxPrice = $request->get('max_price');
   $customStartDate = $request->get('start_date');
   $customEndDate = $request->get('end_date');
   ```

2. **ุฏุนู ุงูุชุงุฑูุฎ ุงููุฎุตุต**:
   ```php
   if ($customStartDate && $customEndDate) {
       $startDate = Carbon::parse($customStartDate);
       $endDate = Carbon::parse($customEndDate);
   } else {
       $dateRange = $this->getDateRange($period);
       $startDate = $dateRange['start'];
       $endDate = $dateRange['end'];
   }
   ```

3. **ุชุทุจูู ุงูููุงุชุฑ ุนูู ุงูุงุณุชุนูุงู**:
   ```php
   if ($restaurantId) {
       $subscriptionsQuery->where('restaurant_id', $restaurantId);
   }
   
   if ($subscriptionType) {
       $subscriptionsQuery->whereHas('subscriptionType', function($query) use ($subscriptionType) {
           $query->where('type', $subscriptionType);
       });
   }
   
   if ($subscriptionStatus) {
       $subscriptionsQuery->where('status', $subscriptionStatus);
   }
   
   if ($minPrice || $maxPrice) {
       $subscriptionsQuery->where(function($query) use ($minPrice, $maxPrice) {
           if ($minPrice) {
               $query->where('total_amount', '>=', $minPrice);
           }
           if ($maxPrice) {
               $query->where('total_amount', '<=', $maxPrice);
           }
       });
   }
   ```

4. **ุฅุถุงูุฉ ุฎูุงุฑุงุช ุงูููุงุชุฑ**:
   ```php
   $filterOptions = [
       'restaurants' => Restaurant::select('id', 'name_ar', 'name_en')->get(),
       'subscriptionTypes' => [
           ['value' => 'weekly', 'label_ar' => 'ุฃุณุจูุนู', 'label_en' => 'Weekly'],
           ['value' => 'monthly', 'label_ar' => 'ุดูุฑู', 'label_en' => 'Monthly']
       ],
       'subscriptionStatuses' => [
           ['value' => 'pending', 'label_ar' => 'ูู ุงูุงูุชุธุงุฑ', 'label_en' => 'Pending'],
           ['value' => 'active', 'label_ar' => 'ูุดุท', 'label_en' => 'Active'],
           ['value' => 'completed', 'label_ar' => 'ููุชูู', 'label_en' => 'Completed'],
           ['value' => 'cancelled', 'label_ar' => 'ููุบู', 'label_en' => 'Cancelled']
       ]
   ];
   ```

### ุงููุฑููุช ุฅูุฏ (Frontend)
#### ููู: `resources/js/pages/Admin/AdminReports.jsx`

**ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ**:

1. **ุฅุถุงูุฉ ุญุงูุฉ ุงูููุงุชุฑ**:
   ```javascript
   const [filters, setFilters] = useState({
       restaurantId: '',
       subscriptionType: '',
       subscriptionStatus: '',
       minPrice: '',
       maxPrice: '',
       startDate: '',
       endDate: ''
   });
   const [filterOptions, setFilterOptions] = useState({
       restaurants: [],
       subscriptionTypes: [],
       subscriptionStatuses: []
   });
   ```

2. **ุชุญุฏูุซ useEffect**:
   ```javascript
   useEffect(() => {
       fetchReports();
   }, [selectedPeriod, filters]);
   ```

3. **ุจูุงุก ูุนุงููุงุช ุงูุงุณุชุนูุงู**:
   ```javascript
   const params = new URLSearchParams();
   params.append('period', selectedPeriod);
   
   if (filters.restaurantId) params.append('restaurant_id', filters.restaurantId);
   if (filters.subscriptionType) params.append('subscription_type', filters.subscriptionType);
   if (filters.subscriptionStatus) params.append('subscription_status', filters.subscriptionStatus);
   if (filters.minPrice) params.append('min_price', filters.minPrice);
   if (filters.maxPrice) params.append('max_price', filters.maxPrice);
   if (filters.startDate) params.append('start_date', filters.startDate);
   if (filters.endDate) params.append('end_date', filters.endDate);
   ```

4. **ุฏูุงู ูุนุงูุฌุฉ ุงูููุงุชุฑ**:
   ```javascript
   const handleFilterChange = (filterName, value) => {
       setFilters(prev => ({
           ...prev,
           [filterName]: value
       }));
   };

   const resetFilters = () => {
       setFilters({
           restaurantId: '',
           subscriptionType: '',
           subscriptionStatus: '',
           minPrice: '',
           maxPrice: '',
           startDate: '',
           endDate: ''
       });
   };
   ```

## ๐ ุฏุนู ุงููุบุงุช

### ุงูุนุฑุจูุฉ
- ุฌููุน ุงูุชุณููุงุช ูุงููุตูู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุฏุนู RTL (Right-to-Left)
- ุชูุณูู ุงูุชูุงุฑูุฎ ูุงูุฃุฑูุงู ุจุงูุนุฑุจูุฉ

### ุงูุฅูุฌููุฒูุฉ
- ุชุฑุฌูุงุช ูุงููุฉ ูุฌููุน ุงูุนูุงุตุฑ
- ุฏุนู LTR (Left-to-Right)
- ุชูุณูู ุงูุชูุงุฑูุฎ ูุงูุฃุฑูุงู ุจุงูุฅูุฌููุฒูุฉ

## ๐ฑ ุงูุงุณุชุฌุงุจุฉ (Responsive Design)

### ุงูุดุงุดุงุช ุงููุจูุฑุฉ
- Grid ูู 4 ุฃุนูุฏุฉ ููููุงุชุฑ ุงูุฃุณุงุณูุฉ
- Grid ูู 4 ุฃุนูุฏุฉ ููููุงุชุฑ ุงููุชูุฏูุฉ
- ุนุฑุถ ูุงูู ูุฌููุน ุงูุนูุงุตุฑ

### ุงูุดุงุดุงุช ุงููุชูุณุทุฉ
- Grid ูู 2-3 ุฃุนูุฏุฉ
- ุชููู ุชููุงุฆู ูุน ุญุฌู ุงูุดุงุดุฉ

### ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ
- ุนููุฏ ูุงุญุฏ ููู ุงูููุงุชุฑ
- ุชุญุณูู ููููุงุชู ุงููุญูููุฉ
- ุณูููุฉ ูู ุงูุงุณุชุฎุฏุงู ุจุงูููุณ

## ๐ ุงููููุฒุงุช ุงููุชูุฏูุฉ

### 1. ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- ุงูุจูุงูุงุช ุชุชุญุฏุซ ููุฑูุงู ุนูุฏ ุชุบููุฑ ุงูููุงุชุฑ
- ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ

### 2. ุญูุธ ุญุงูุฉ ุงูููุงุชุฑ
- ุงูููุงุชุฑ ุชุจูู ูุดุทุฉ ุญุชู ุฅุนุงุฏุฉ ุชุนููููุง
- ุฅููุงููุฉ ุชุทุจูู ุนุฏุฉ ููุงุชุฑ ูุนุงู
- ุนุฑุถ ููุฎุต ููููุงุชุฑ ุงููุดุทุฉ

### 3. ุชุญุณูู ุงูุฃุฏุงุก
- ุงุณุชุนูุงูุงุช ูุญุณูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญููู ุฎูุงุฑุงุช ุงูููุงุชุฑ ูุฑุฉ ูุงุญุฏุฉ
- ุชุฎุฒูู ูุคูุช ูููุชุงุฆุฌ

### 4. ุณูููุฉ ุงูุงุณุชุฎุฏุงู
- ูุงุฌูุฉ ุจุฏูููุฉ ููููููุฉ
- ุฑุณุงุฆู ูุงุถุญุฉ ููุญุงูุงุช ุงููุฎุชููุฉ
- ุฃุฒุฑุงุฑ ูุฃููููุงุช ูุนุจุฑุฉ

## ๐งช ุงูุงุฎุชุจุงุฑ

### ููู ุงูุงุฎุชุจุงุฑ
ุชู ุฅูุดุงุก ููู `test_admin_reports_filters.html` ูุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ:

**ุงููุญุชูู**:
- ูุญุงูุงุฉ ูุงุฌูุฉ ุงูููุงุชุฑ
- ุงุฎุชุจุงุฑ ุชูุงุนูู ููููุงุชุฑ
- ุนุฑุถ ุงููุชุงุฆุฌ ุงููุชููุนุฉ
- ุฏููู ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ
1. **ููุชุฑ ูุทุนู ูุงุญุฏ**: ุงุฎุชุจุงุฑ ููุชุฑุฉ ุงูุจูุงูุงุช ููุทุนู ูุญุฏุฏ
2. **ููุชุฑ ููุน ุงุดุชุฑุงู**: ุงุฎุชุจุงุฑ ููุชุฑุฉ ุงูุงุดุชุฑุงูุงุช ุงูุฃุณุจูุนูุฉ ุฃู ุงูุดูุฑูุฉ
3. **ููุชุฑ ุญุงูุฉ**: ุงุฎุชุจุงุฑ ููุชุฑุฉ ุญุณุจ ุญุงูุฉ ุงูุงุดุชุฑุงู
4. **ููุชุฑ ุงูุณุนุฑ**: ุงุฎุชุจุงุฑ ูุทุงู ุงูุณุนุฑ
5. **ููุชุฑ ุงูุชุงุฑูุฎ**: ุงุฎุชุจุงุฑ ุงููุชุฑุฉ ุงููุฎุตุตุฉ
6. **ููุงุชุฑ ูุชุนุฏุฏุฉ**: ุงุฎุชุจุงุฑ ุชุทุจูู ุนุฏุฉ ููุงุชุฑ ูุนุงู
7. **ุฅุนุงุฏุฉ ุชุนููู**: ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุชุฑ

## ๐ ุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก

### ุชุญุณููุงุช ุงูุฃุฏุงุก
- **ุงุณุชุนูุงูุงุช ูุญุณูุฉ**: ุงุณุชุฎุฏุงู indexes ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุชุญููู ุชุฏุฑูุฌู**: ุชุญููู ุงูุจูุงูุงุช ุญุณุจ ุงูุญุงุฌุฉ
- **ุชุฎุฒูู ูุคูุช**: ุชุฎุฒูู ูุชุงุฆุฌ ุงูููุงุชุฑ ุงูุดุงุฆุนุฉ

### ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- **ููุช ุงูุงุณุชุฌุงุจุฉ**: ูุฑุงูุจุฉ ููุช ุงุณุชุฌุงุจุฉ API
- **ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ**: ุชุญุณูู ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- **ุนุฑุถ ุงูุจูุงูุงุช**: ุชุญุณูู ุนุฑุถ ุงูุฌุฏุงูู ุงููุจูุฑุฉ

## ๐ฎ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

### ููุฒุงุช ููุชุฑุญุฉ
1. **ุญูุธ ุงูููุงุชุฑ**: ุฅููุงููุฉ ุญูุธ ูุฌููุนุงุช ููุงุชุฑ ูุนููุฉ
2. **ุชุตุฏูุฑ ูุฎุตุต**: ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููููุชุฑุฉ
3. **ุฅุดุนุงุฑุงุช**: ุฅุดุนุงุฑุงุช ุนูุฏ ุชููุฑ ุจูุงูุงุช ุฌุฏูุฏุฉ
4. **ุฑุณูู ุจูุงููุฉ**: ุนุฑุถ ุงูุจูุงูุงุช ุงููููุชุฑุฉ ูู ุฑุณูู ุจูุงููุฉ
5. **ูุดุงุฑูุฉ ุงูููุงุชุฑ**: ูุดุงุฑูุฉ ุฑูุงุจุท ูุน ููุงุชุฑ ูุญุฏุฏุฉ

### ุชุญุณููุงุช ุชูููุฉ
1. **Pagination**: ุฅุถุงูุฉ pagination ููุฌุฏุงูู ุงููุจูุฑุฉ
2. **Search**: ุฅุถุงูุฉ ุจุญุซ ูุตู ูู ุงูุจูุงูุงุช
3. **Sorting**: ุฅุถุงูุฉ ุฅููุงููุฉ ุชุฑุชูุจ ุงูุจูุงูุงุช
4. **Export**: ุชุญุณูู ุฎูุงุฑุงุช ุงูุชุตุฏูุฑ

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทุจูู ูุธุงู ููุงุชุฑ ูุชูุฏู ูุดุงูู ูุตูุญุฉ ุงูุชูุงุฑูุฑ ุงูุฅุฏุงุฑูุฉ ุจูุฌุงุญุ ููุง ูููุฑ:

โ **ูุฑููุฉ ูู ุงูุนุฑุถ**: ุฅููุงููุฉ ุนุฑุถ ุงูุจูุงูุงุช ุญุณุจ ุงูุญุงุฌุฉ
โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ูุงุฌูุฉ ุจุฏูููุฉ ููููููุฉ
โ **ุฃุฏุงุก ูุญุณู**: ุงุณุชุนูุงูุงุช ุณุฑูุนุฉ ูุชุญุฏูุซ ููุฑู
โ **ุชุตููู ูุชุฌุงูุจ**: ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
โ **ุฏุนู ุงููุบุงุช**: ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
โ **ูุงุจููุฉ ุงูุชุทููุฑ**: ุจููุฉ ูุฑูุฉ ููุชุทููุฑุงุช ุงููุณุชูุจููุฉ

ูุฐุง ุงูุชุทููุฑ ูุฑูุน ูู ูุณุชูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ููููุฑ ุฃุฏูุงุช ูููุฉ ูุฅุฏุงุฑุฉ ูุชุญููู ุงูุจูุงูุงุช ูู ุงููุธุงู.

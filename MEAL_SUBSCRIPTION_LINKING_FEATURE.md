# ููุฒุฉ ุฑุจุท ุงููุฌุจุงุช ุจุฃููุงุน ุงูุงุดุชุฑุงูุงุช - Meal Subscription Linking Feature

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ุชุณูุญ ููุจุงุฆุนูู ุจุฑุจุท ุงููุฌุจุงุช ุจุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุนูุฏ ุฅูุดุงุฆูุง. ูุฐุง ูุณูุญ ุจุชุญุฏูุฏ ุฃู ุฃููุงุน ุงุดุชุฑุงูุงุช ูููู ุฃู ุชุญุชูู ุนูู ูู ูุฌุจุฉ.

## ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ โ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ**: `subscription_type_ids` ุฅูู ุฌุฏูู `meals`
- **ููุน ุงูุจูุงูุงุช**: JSON array ูุชุฎุฒูู ูุนุฑูุงุช ุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- **Migration**: `2025_09_05_205018_add_subscription_type_ids_to_meals_table.php`

### 2. ุงูููุงุฐุฌ (Models)
#### ุชุญุฏูุซ ูููุฐุฌ Meal
- ุฅุถุงูุฉ `subscription_type_ids` ุฅูู `$fillable`
- ุฅุถุงูุฉ cast ููู array ูู `$casts`
- ุฅุถุงูุฉ ุฏุงูุฉ `getLinkedSubscriptionTypesAttribute()` ููุญุตูู ุนูู ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ
- ุฅุถุงูุฉ ุงูุนูุงูุฉ `subscriptionTypes()` ูุน ุฌุฏูู pivot

### 3. ุงููููุชุฑููุฑ (Controllers)
#### ุชุญุฏูุซ MealController
- ุฅุถุงูุฉ validation ูู `subscription_type_ids` ูู ุฏุงูุชู `store` ู `update`
- ุฅุถุงูุฉ ุงูุชุญูู ูู ุฃู ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุชูุชูู ูููุทุนู ููุณู
- ุฏุนู ุญูุธ ูุชุญุฏูุซ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ

### 4. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend)
#### ุชุญุฏูุซ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุฌุจุงุช
- ุฅุถุงูุฉ state ูุฃููุงุน ุงูุงุดุชุฑุงูุงุช (`subscriptionTypes`)
- ุฅุถุงูุฉ `subscription_type_ids` ุฅูู `formData`
- ุฅุถุงูุฉ ุฏุงูุฉ `fetchSubscriptionTypes()` ูุฌูุจ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ูููุทุนู
- ุฅุถุงูุฉ ูุงุฌูุฉ ุงุฎุชูุงุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ูู ูููุฐุฌ ุฅูุดุงุก/ุชุนุฏูู ุงููุฌุจุฉ
- ุฅุถุงูุฉ ุนุฑุถ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ ูู ูุฑูุช ุงููุฌุจุงุช

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ๐

### 1. ูุงุฌูุฉ ุงุฎุชูุงุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- **ุชุตููู ุชูุงุนูู**: checkboxes ูุน ุชุตููู ุฌููู
- **ุนุฑุถ ุงููุนูููุงุช**: ุงุณู ููุน ุงูุงุดุชุฑุงูุ ุงูููุน (ุฃุณุจูุนู/ุดูุฑู)ุ ูุงูุณุนุฑ
- **ุงุฎุชูุงุฑ ูุชุนุฏุฏ**: ูููู ุฑุจุท ุงููุฌุจุฉ ุจุฃูุซุฑ ูู ููุน ุงุดุชุฑุงู
- **ุชุญูู ูู ุงูุตุญุฉ**: ูุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ ุฅุฐุง ูู ุชูุฌุฏ ุฃููุงุน ุงุดุชุฑุงูุงุช

### 2. ุนุฑุถ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ
- **ูู ูุฑูุช ุงููุฌุจุงุช**: ุนุฑุถ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ ุจูู ูุฌุจุฉ
- **ุชุตููู ุจุตุฑู**: badges ููููุฉ ูุนุฑุถ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- **ูุนูููุงุช ุดุงููุฉ**: ุงุณู ููุน ุงูุงุดุชุฑุงู ุจุงููุบุฉ ุงูููุงุณุจุฉ

### 3. ุงูุชุญูู ูู ุงูุตุญุฉ
- **ุชุญูู ูู ุงูููููุฉ**: ุงูุชุฃูุฏ ูู ุฃู ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุชูุชูู ูููุทุนู ููุณู
- **ุชุญูู ูู ุงููุฌูุฏ**: ุงูุชุฃูุฏ ูู ูุฌูุฏ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ**: ุฑุณุงุฆู ุฎุทุฃ ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู ๐

### ููุจุงุฆุนูู:
1. **ุงุฎุชูุงุฑ ุงููุทุนู**: ุงุฎุชุฑ ุงููุทุนู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
2. **ุฅูุดุงุก ูุฌุจุฉ ุฌุฏูุฏุฉ**: ุงุถุบุท ุนูู "ุฅุถุงูุฉ ูุฌุจุฉ ุฌุฏูุฏุฉ"
3. **ููุก ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ**: ุงุณู ุงููุฌุจุฉุ ุงููุตูุ ุงูุณุนุฑุ ุฅูุฎ
4. **ุงุฎุชูุงุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช**: ูู ูุณู "ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ"
5. **ุญูุธ ุงููุฌุจุฉ**: ุงุถุบุท ุนูู "ุญูุธ"

### ุนุฑุถ ุงููุชุงุฆุฌ:
- **ูู ูุงุฆูุฉ ุงููุฌุจุงุช**: ุณุชุธูุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ ุชุญุช ูู ูุฌุจุฉ
- **ุนูุฏ ุงูุชุนุฏูู**: ุณุชุธูุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฎุชุงุฑุฉ ูุณุจูุงู

## API Endpoints ุงููุณุชุฎุฏูุฉ ๐

### ุฌูุจ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ูููุทุนู:
```
GET /api/seller/restaurants/{restaurantId}/subscription-types
```

### ุฅูุดุงุก ูุฌุจุฉ ุฌุฏูุฏุฉ:
```
POST /api/seller/restaurants/{restaurantId}/meals
```

### ุชุญุฏูุซ ูุฌุจุฉ ููุฌูุฏุฉ:
```
PUT /api/seller/restaurants/{restaurantId}/meals/{mealId}
```

## ุงูุจูุงูุงุช ุงููุฑุณูุฉ ๐ค

### ุนูุฏ ุฅูุดุงุก/ุชุญุฏูุซ ูุฌุจุฉ:
```json
{
  "name_ar": "ุงุณู ุงููุฌุจุฉ ุจุงูุนุฑุจูุฉ",
  "name_en": "Meal Name in English",
  "description_ar": "ูุตู ุงููุฌุจุฉ ุจุงูุนุฑุจูุฉ",
  "description_en": "Meal description in English",
  "price": 15.50,
  "meal_type": "lunch",
  "delivery_time": "14:30",
  "is_available": true,
  "subscription_type_ids": [1, 2, 3],
  "image": "file"
}
```

## ุงูุจูุงูุงุช ุงููุณุชููุฉ ๐ฅ

### ุนูุฏ ุฌูุจ ุงููุฌุจุงุช:
```json
{
  "id": 1,
  "name_ar": "ุงุณู ุงููุฌุจุฉ ุจุงูุนุฑุจูุฉ",
  "name_en": "Meal Name in English",
  "price": 15.50,
  "meal_type": "lunch",
  "delivery_time_formatted": "14:30",
  "is_available": true,
  "subscription_type_ids": [1, 2, 3],
  "linked_subscription_types": [
    {
      "id": 1,
      "name_ar": "ุงุดุชุฑุงู ุฃุณุจูุนู",
      "name_en": "Weekly Subscription",
      "type": "weekly",
      "price": 120.00
    }
  ]
}
```

## ุงูููุงุฆุฏ ๐ฏ

### ููุจุงุฆุนูู:
- **ุชูุธูู ุฃูุถู**: ุฑุจุท ุงููุฌุจุงุช ุจุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงูููุงุณุจุฉ
- **ูุฑููุฉ ุฃูุจุฑ**: ุฅููุงููุฉ ุฑุจุท ูุฌุจุฉ ูุงุญุฏุฉ ุจุฃูุซุฑ ูู ููุน ุงุดุชุฑุงู
- **ูุถูุญ ูู ุงูุนุฑุถ**: ุฑุคูุฉ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุฑุชุจุทุฉ ุจูู ูุฌุจุฉ

### ููุนููุงุก:
- **ุดูุงููุฉ ุฃูุจุฑ**: ูุนุฑูุฉ ุฃู ูุฌุจุงุช ูุชุงุญุฉ ูู ูู ููุน ุงุดุชุฑุงู
- **ุงุฎุชูุงุฑ ุฃูุถู**: ููู ุงูุนูุงูุฉ ุจูู ุงููุฌุจุงุช ูุฃููุงุน ุงูุงุดุชุฑุงูุงุช

### ูููุธุงู:
- **ุฅุฏุงุฑุฉ ูุญุณูุฉ**: ุชูุธูู ุฃูุถู ููุจูุงูุงุช
- **ูุงุจููุฉ ุงูุชูุณุน**: ุณูููุฉ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ
- **ุฃุฏุงุก ูุญุณู**: ุงุณุชุนูุงูุงุช ูุญุณูุฉ ููุจูุงูุงุช ุงููุฑุชุจุทุฉ

## ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ ๐ฎ

### ููุฒุงุช ููุชุฑุญุฉ:
1. **ููุชุฑุฉ ุงููุฌุจุงุช**: ุญุณุจ ููุน ุงูุงุดุชุฑุงู
2. **ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ**: ุชุญููู ุงููุฌุจุงุช ุงูุฃูุซุฑ ุดุนุจูุฉ ูู ูู ููุน ุงุดุชุฑุงู
3. **ุชูุตูุงุช ุฐููุฉ**: ุงูุชุฑุงุญ ุฃููุงุน ุงุดุชุฑุงูุงุช ููุงุณุจุฉ ูููุฌุจุงุช ุงูุฌุฏูุฏุฉ
4. **ุฅุฏุงุฑุฉ ุฌูุงุนูุฉ**: ุฑุจุท ุนุฏุฉ ูุฌุจุงุช ุจุฃููุงุน ุงุดุชุฑุงูุงุช ูู ุนูููุฉ ูุงุญุฏุฉ

## ููุงุญุธุงุช ุชูููุฉ โ๏ธ

### ุงูุฃูุงู:
- ุงูุชุญูู ูู ููููุฉ ุงููุทุนู ูุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- ุญูุงูุฉ ูู SQL injection

### ุงูุฃุฏุงุก:
- ุงุณุชุฎุฏุงู JSON array ูุชุฎุฒูู ูุนุฑูุงุช ุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- ุงุณุชุนูุงูุงุช ูุญุณูุฉ ูุฌูุจ ุงูุจูุงูุงุช ุงููุฑุชุจุทุฉ
- ุชุญููู lazy ููุจูุงูุงุช ุงููุฑุชุจุทุฉ

### ุงูุชูุงูู:
- ูุชูุงูู ูุน ุงููุธุงู ุงูุญุงูู
- ูุง ูุคุซุฑ ุนูู ุงููุธุงุฆู ุงูููุฌูุฏุฉ
- ูุฏุนู ุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 5 ุณุจุชูุจุฑ 2025  
**ุงููุทูุฑ**: AI Assistant  
**ุงูุญุงูุฉ**: ููุชูู โ

# ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงูุฎุงุตุฉ ุจุงููุทุงุนู - Restaurant-Specific Subscription Types

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ โ

### 1. ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงูุฎุงุตุฉ ุจูู ูุทุนู
- **ูู ูุทุนู ูู ุฃููุงุน ุงุดุชุฑุงูุงุช ุฎุงุตุฉ ุจู**: ูููู ููู ูุทุนู ุชุญุฏูุฏ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงููุชุงุญุฉ
- **ุฃุณุนุงุฑ ูุฎุชููุฉ**: ูู ูุทุนู ูุญุฏุฏ ุฃุณุนุงุฑู ุงูุฎุงุตุฉ ูุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- **ุนุฏุฏ ูุฌุจุงุช ูุงุจู ููุชุฎุตูุต**: ูู ูุทุนู ูุญุฏุฏ ุนุฏุฏ ุงููุฌุจุงุช ููู ููุน ุงุดุชุฑุงู
- **ุฅุฏุงุฑุฉ ูุณุชููุฉ**: ูู ูุทุนู ูุฏูุฑ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงูุฎุงุตุฉ ุจู

### 2. ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูููุทุงุนู
- **ุตูุญุฉ ุฅุฏุงุฑุฉ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช**: `/restaurant/subscription-types`
- **ุฅุถุงูุฉ ุฃููุงุน ุฌุฏูุฏุฉ**: ูููู ุฅุถุงูุฉ ุฃููุงุน ุงุดุชุฑุงูุงุช ุฌุฏูุฏุฉ
- **ุชุนุฏูู ุงูุฃููุงุน ุงูููุฌูุฏุฉ**: ุชุนุฏูู ุงูุฃุณุนุงุฑ ูุงูุฃูุตุงู
- **ุญุฐู ุงูุฃููุงุน**: ุฅุฒุงูุฉ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุบูุฑ ุงููุฑุบูุจุฉ
- **ุชูุนูู/ุฅูุบุงุก ุชูุนูู**: ุงูุชุญูู ูู ุญุงูุฉ ูู ููุน ุงุดุชุฑุงู

### 3. ุชุญุฏูุซุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุฅุถุงูุฉ `restaurant_id`**: ุฅูู ุฌุฏูู `subscription_types`
- **ุนูุงูุฉ ุฌุฏูุฏุฉ**: ุจูู ุงููุทุงุนู ูุฃููุงุน ุงูุงุดุชุฑุงูุงุช
- **ุจูุงูุงุช ุฃูููุฉ**: ุฅูุดุงุก ุฃููุงุน ุงุดุชุฑุงูุงุช ููู ูุทุนู ููุฌูุฏ

## ุงูุชุบููุฑุงุช ุงูุชูููุฉ ๐ง

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุฅุถุงูุฉ restaurant_id ุฅูู ุฌุฏูู subscription_types
ALTER TABLE subscription_types ADD COLUMN restaurant_id BIGINT UNSIGNED NOT NULL;
ALTER TABLE subscription_types ADD CONSTRAINT subscription_types_restaurant_id_foreign 
FOREIGN KEY (restaurant_id) REFERENCES restaurants(id) ON DELETE CASCADE;
```

### 2. ุงูููุงุฐุฌ (Models)
```php
// SubscriptionType Model
class SubscriptionType extends Model
{
    protected $fillable = [
        'restaurant_id', // ุฌุฏูุฏ
        'name_ar',
        'name_en',
        'description_ar',
        'description_en',
        'type',
        'price',
        'meals_count',
        'is_active',
    ];

    public function restaurant()
    {
        return $this->belongsTo(Restaurant::class);
    }
}

// Restaurant Model
class Restaurant extends Model
{
    public function subscriptionTypes()
    {
        return $this->hasMany(SubscriptionType::class);
    }
}
```

### 3. ุงูู API ุงูุฌุฏูุฏุฉ
```php
// ุงูุญุตูู ุนูู ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ููุทุนู ูุญุฏุฏ
GET /api/restaurants/{restaurantId}/subscription-types

// ุฅุฏุงุฑุฉ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช (ูุฃุตุญุงุจ ุงููุทุงุนู)
POST /api/subscription-types
PUT /api/subscription-types/{id}
DELETE /api/subscription-types/{id}
```

### 4. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
```php
// ุงูุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ูููู ุงููุทุนู
if ($user->role !== 'restaurant_owner' || $user->restaurant_id != $request->restaurant_id) {
    return response()->json([
        'success' => false,
        'message' => 'ุบูุฑ ูุตุฑุญ ูู ุจุฅูุดุงุก ุฃููุงุน ุงุดุชุฑุงูุงุช ููุฐุง ุงููุทุนู'
    ], 403);
}
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู ๐

### 1. ูุฃุตุญุงุจ ุงููุทุงุนู
1. **ุชุณุฌูู ุงูุฏุฎูู** ูุตุงุญุจ ูุทุนู
2. **ุงูุฐูุงุจ ุฅูู** ุตูุญุฉ ุฅุฏุงุฑุฉ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช
3. **ุฅุถุงูุฉ ุฃููุงุน ุฌุฏูุฏุฉ** ุฃู ุชุนุฏูู ุงูููุฌูุฏุฉ
4. **ุชุญุฏูุฏ ุงูุฃุณุนุงุฑ** ูุนุฏุฏ ุงููุฌุจุงุช ููู ููุน
5. **ุชูุนูู/ุฅูุบุงุก ุชูุนูู** ุงูุฃููุงุน ุญุณุจ ุงูุญุงุฌุฉ

### 2. ููุนููุงุก
1. **ุงุฎุชูุงุฑ ูุทุนู** ูู ูุงุฆูุฉ ุงููุทุงุนู
2. **ุนุฑุถ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช** ุงููุชุงุญุฉ ููุฐุง ุงููุทุนู
3. **ุงุฎุชูุงุฑ ุงูููุน ุงูููุงุณุจ** ูุน ุงูุณุนุฑ ูุงูุชูุงุตูู
4. **ุฅููุงู ุนูููุฉ ุงูุงุดุชุฑุงู** ูุงููุนุชุงุฏ

## ุงููุฒุงูุง ๐ฏ

### 1. ูููุทุงุนู
- **ูุฑููุฉ ูู ุงูุชุณุนูุฑ**: ุชุญุฏูุฏ ุงูุฃุณุนุงุฑ ุงูููุงุณุจุฉ ููู ูุทุนู
- **ุชุฎุตูุต ุงูุฎุฏูุงุช**: ุชูุฏูู ุฃููุงุน ุงุดุชุฑุงูุงุช ูุฎุชููุฉ
- **ุฅุฏุงุฑุฉ ูุณุชููุฉ**: ุชุญูู ูุงูู ูู ุงูุนุฑูุถ
- **ููุงูุณุฉ ุฃูุถู**: ุชูููุฒ ุงูุนุฑูุถ ุนู ุงูููุงูุณูู

### 2. ููุนููุงุก
- **ุชููุน ูู ุงูุนุฑูุถ**: ุฎูุงุฑุงุช ูุฎุชููุฉ ูู ูู ูุทุนู
- **ุฃุณุนุงุฑ ููุงุณุจุฉ**: ุฃุณุนุงุฑ ูุฎุตุตุฉ ููู ูุทุนู
- **ุดูุงููุฉ ุฃูุจุฑ**: ูุนุฑูุฉ ูุงุถุญุฉ ุจุงูุนุฑูุถ ุงููุชุงุญุฉ
- **ุชุฌุฑุจุฉ ุฃูุถู**: ุนุฑูุถ ูุฎุตุตุฉ ูุงุญุชูุงุฌุงุช ูู ูุทุนู

### 3. ูููุธุงู
- **ูุงุจููุฉ ุงูุชูุณุน**: ุฅุถุงูุฉ ูุทุงุนู ุฌุฏูุฏุฉ ุจุณูููุฉ
- **ูุฑููุฉ ูู ุงูุฅุฏุงุฑุฉ**: ุชุญูู ุฏููู ูู ุงูุนุฑูุถ
- **ุฃูุงู ุฃูุถู**: ูุตู ุตูุงุญูุงุช ุงููุทุงุนู
- **ุฃุฏุงุก ูุญุณู**: ุงุณุชุนูุงูุงุช ุฃูุซุฑ ุฏูุฉ

## ุงูุจูุงูุงุช ุงูุฃูููุฉ ๐

### ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ุงูุงูุชุฑุงุถูุฉ ููู ูุทุนู:
1. **ุงุดุชุฑุงู ุฃุณุจูุนู**
   - 4 ูุฌุจุงุช ูู ุงูุฃุณุจูุน
   - ุงูุณุนุฑ: 120 ุฑูุงู
   - ุงูุชูุตูู: ูู ุงูุฃุญุฏ ุฅูู ุงูุฎููุณ

2. **ุงุดุชุฑุงู ุดูุฑู**
   - 16 ูุฌุจุฉ ูู ุงูุดูุฑ
   - ุงูุณุนุฑ: 400 ุฑูุงู
   - ุงูุชูุตูู: ูู ุงูุฃุญุฏ ุฅูู ุงูุฎููุณ ูุน ุฎุตู 15%

## ุงูุชุทููุฑ ุงููุณุชูุจูู ๐

### 1. ููุฒุงุช ููุชุฑุญุฉ
- **ุฎุตููุงุช ุฎุงุตุฉ**: ุฎุตููุงุช ููุณููุฉ ุฃู ููุนููุงุก ุงููุฎูุตูู
- **ุนุฑูุถ ูุญุฏูุฏุฉ**: ุนุฑูุถ ููุชุฑุฉ ุฒูููุฉ ูุญุฏุฏุฉ
- **ุงุดุชุฑุงูุงุช ูุฎุตุตุฉ**: ุญุณุจ ุงุญุชูุงุฌุงุช ุงูุนููู
- **ุชูุงุฑูุฑ ููุตูุฉ**: ุฅุญุตุงุฆูุงุช ููุตูุฉ ููู ูุทุนู

### 2. ุชุญุณููุงุช ุชูููุฉ
- **Cache ูุญุณู**: ุชุญุณูู ุงูุฃุฏุงุก ููุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ
- **API ูุญุณู**: ุฅุถุงูุฉ ุงููุฒูุฏ ูู ููุงุท ุงูููุงูุฉ
- **ูุงุฌูุฉ ูุญุณูุฉ**: ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- **ุฃูุงู ูุญุณู**: ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุทุจูุงุช ุงูุฃูุงู

## ุงูุฎูุงุตุฉ ๐

ุชู ุชุทููุฑ ูุธุงู ุฃููุงุน ุงูุงุดุชุฑุงูุงุช ููููู ุฎุงุตุงู ุจูู ูุทุนูุ ููุง ูููุฑ:
- **ูุฑููุฉ ุฃูุจุฑ** ูููุทุงุนู ูู ุชุญุฏูุฏ ุนุฑูุถูู
- **ุชููุน ุฃูุถู** ููุนููุงุก ูู ุงูุงุฎุชูุงุฑ
- **ุฅุฏุงุฑุฉ ุฃุณูู** ูููุธุงู ููู
- **ูุงุจููุฉ ุงูุชูุณุน** ูููุณุชูุจู

ูุฐุง ุงูุชุทููุฑ ูุฌุนู ุงููุธุงู ุฃูุซุฑ ูุงูุนูุฉ ููุงุจููุฉ ููุงุณุชุฎุฏุงู ูู ุงูุณูู ุงููุนูู.
